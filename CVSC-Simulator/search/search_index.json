{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"carla_rambot_adapters.html","text":"Ramcontrol2carla.py \u7efc\u8ff0\uff1a rambot\u63a7\u5236\u5668\u8f93\u51fa\u7684twist \u4e0ecarla\u4e0d\u517c\u5bb9\uff0c\u6b64\u8282\u70b9\u5b9e\u73b0rambot_controller \u53d1\u5e03\u7684twist\u7684\u8f6c\u6362 \u8282\u70b9\uff1a Ramcontrol2carla \u8ba2\u9605\uff1a \u540d\u79f0\u4e3a/RobotPort_CmdVel (\u6765\u81earambot_controller) \u4e2d\u7684Twist\u6d88\u606f \u53d1\u5e03\uff1a \u540d\u79f0\u4e3a/carla/ego_vehicle/ackermann_cmd \u7684Twist \u6d88\u606f ros\u4e2d\u673a\u5668\u4eba\u7684\u79fb\u52a8\u4e00\u822c\u7531 twist\u4e2d linear\u7684x\u65b9\u5411 \u7684\u7ebf\u901f\u5ea6 \u548c angular\u4e2d\u7684z \u8f74\u89d2\u901f\u5ea6\u6240\u51b3\u5b9a\uff0c\u5176\u4f59\u65b9\u5411\u7684\u901f\u5ea6\u4e0d\u5b58\u5728\u3002 \u6709\u5173ros\u4e2d geometry_msgs\u7c7b\u7684\u8bf7\u53c2\u8003\uff1ahttp://wiki.ros.org/geometry_msgs ros\u4e2d twist \u89e3\u91ca\uff1a https://www.cnblogs.com/shang-slam/p/6891086.html ackermann_control \u4e2d\u63a7\u5236\u547d\u4ee4\u4e3b\u8981\u7531 \u901f\u5ea6\uff08speed\uff09 \u548c \u6253\u89d2\uff08steering_angle\uff09\u6784\u6210 carla_global_twist2local \u7efc\u8ff0\uff1aodom\u4eceros\u6865\u51fa\u6765\uff0c\u7ecf\u8fc7\u8fd9\u4e2a\u9002\u5e94\u5668\u624d\u53d1\u5f80\u63a7\u5236\u5668 local_odometry: \u8ba2\u9605\uff1a/carla/ego_vehicle/odometry \u53d1\u5e03\uff1a/RobotPort_Odom local_odometry.pose: (\u6ca1\u6709\u53d8\u5316) 1.local_odometry.pose.pose: \u6765\u81eageometry_msgs \u7684Pose 1. position : \u7c7b\u578b\u662fgeometry_msgs \u7684 Point \u7531carla.transform.location \u7c7b\u8f6c\u5316\u800c\u6765\uff0c\u8be5\u8f6c\u5316 \u76f4\u63a5\u8d4b\u503c\u5373\u53ef\u3002\u53d8\u91cf\u7c7b\u578b\u4e00\u6837\u3002\u5177\u4f53\u8bf7\u53c2\u89c1tdransforms.py. 1.x 2.y 3.z 2. orientation:\u7c7b\u578b\u662f\u81eageometry_msgs\u7684Quaternion \u7531carla.transform.rotation\u7c7b\u8f6c\u5316\u800c\u6765,\u8f6c\u5316\u65b9\u5f0f\u5982\u4e0b \u4e00\u3001\u5148\u5c06\u6b27\u62c9\u89d2\u8f6c\u6362\u4e3a\u5f27\u5ea6\u5236\uff1b \u4e8c\u3001\u8c03\u7528python\u7684api\u8f6c\u6362\u4e3aquaternion\uff1b \u4e09\u3001geometry_msgs.Quatiernion\u4e2d\u7684x,y,xw,\u5206\u522b\u5bf9\u5e94\u56db\u5143\u6570\u7684\u56db\u4f4d 1. x 2. y 3. z 4. w 2.local_odometry.pose.civariance: \u534f\u65b9\u5dee local_odometry.twist 1.loacal_odometry.twist.twist: \u7c7b\u578b\u662fgeometry_msgs\u7684Twist() 1.linear \u7c7b\u578b\uff1a 1.x = sqrt(x*x + y*y +z*z) 2.y = 0 3.z = 0 2.angular \u7c7b\u578b\uff1ageometry_msgs\u7684\u7684Vector3 1.x 2.y 3.z = z(? rosbridge \u597d\u50cf\u6ca1\u6709\u7ed9\u51fa\u6765) 2.local_odometry.twist.civariance: \u534f\u65b9\u5dee local_path_adapter \u7efc\u8ff0\uff1a\u8ba2\u9605local_waypoint_publischer\u53d1\u5e03\u7684local_path,\u5e76\u8c03\u6574\u683c\u5f0f\u4f7f\u4e4b\u9002\u5e94rambot_controller \u8ba2\u9605\uff1a/carla/ego_vehicle/local_target_path,\u56de\u8c03\u51fd\u6570\u4e2d\u53d1\u5e03\u4e00\u4e2aDesiredTrajectory \u7c7b\uff0c\u4e2d\u95f4\u5305\u62ec\u91cd\u8981\u4fe1\u606f\u4e3a\uff1a\u4e00\u4e2a\u4f4d\u59ff\u4fe1\u606fposes\u7684list\uff1bculvature \u66f2\u7387list\uff1bspeeds \u901f\u5ea6\u6570\u7ec4\uff1b\u5176\u4e2d\u901f\u5ea6\u9ed8\u8ba4\u4fdd\u6301\u6052\u901f\uff0c\u4e3a3m/s\uff0cculvature \u4e3a0 list\uff1b \u53d1\u5e03\uff1a\u540d\u79f0\u4e3aRobotPort_Cmd\u7684DesiredTrajectory\u6d88\u606f\uff1b indicator_adapter \u7efc\u8ff0\uff1a \u8ba9\u663e\u793a\u5668\u9002\u5e94\u5230\u6b63\u786e\u7684frame \u8ba2\u9605\uff1a\u540d\u5b57/carla/steering_indicator\u7684 Marker\u6d88\u606f\uff0cros\u4e2d\u663e\u793a\u5728rviz\u4e2d\u7684\u6d88\u606f\u3002 \u8ba2\u9605\uff1a/carla/speed_indicator Marker \u6d88\u606f \u8ba2\u9605\uff1a/carla/Controller_fitted_path \u7684Path \u6d88\u606f \u53d1\u5e03\u76f8\u5e94\u7684 /steering_indicator;/speed_indicator; /Controller_fitted_path,\u6d88\u606f marker\u6d88\u606f\u8fde\u63a5 \uff1b \u8865\u5145 \u56de\u8c03\u64cd\u4f5c\uff1a\u5c06 \u63a5\u6536\u5230\u7684msg\u6d88\u606fheader\u6362\u6210map\uff0crviz\u7684\u663e\u793a\u9700\u8981\u4e00\u4e2a\u4e16\u754c\u5750\u6807\u7cfb\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684map\uff0c\u7136\u540e\u518d\u91cd\u65b0\u53d1\u5e03\uff0c\u6700\u7ec8\u5728rviz\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0crviz \u8ba2\u9605\u4e86\u8fd9\u4e9b\u8bdd\u9898\uff0c\u5e76\u5b8c\u6210\u663e\u793a\u3002","title":"Carla rambot adapters"},{"location":"carla_rambot_adapters.html#ramcontrol2carlapy","text":"\u7efc\u8ff0\uff1a rambot\u63a7\u5236\u5668\u8f93\u51fa\u7684twist \u4e0ecarla\u4e0d\u517c\u5bb9\uff0c\u6b64\u8282\u70b9\u5b9e\u73b0rambot_controller \u53d1\u5e03\u7684twist\u7684\u8f6c\u6362 \u8282\u70b9\uff1a Ramcontrol2carla \u8ba2\u9605\uff1a \u540d\u79f0\u4e3a/RobotPort_CmdVel (\u6765\u81earambot_controller) \u4e2d\u7684Twist\u6d88\u606f \u53d1\u5e03\uff1a \u540d\u79f0\u4e3a/carla/ego_vehicle/ackermann_cmd \u7684Twist \u6d88\u606f ros\u4e2d\u673a\u5668\u4eba\u7684\u79fb\u52a8\u4e00\u822c\u7531 twist\u4e2d linear\u7684x\u65b9\u5411 \u7684\u7ebf\u901f\u5ea6 \u548c angular\u4e2d\u7684z \u8f74\u89d2\u901f\u5ea6\u6240\u51b3\u5b9a\uff0c\u5176\u4f59\u65b9\u5411\u7684\u901f\u5ea6\u4e0d\u5b58\u5728\u3002 \u6709\u5173ros\u4e2d geometry_msgs\u7c7b\u7684\u8bf7\u53c2\u8003\uff1ahttp://wiki.ros.org/geometry_msgs ros\u4e2d twist \u89e3\u91ca\uff1a https://www.cnblogs.com/shang-slam/p/6891086.html ackermann_control \u4e2d\u63a7\u5236\u547d\u4ee4\u4e3b\u8981\u7531 \u901f\u5ea6\uff08speed\uff09 \u548c \u6253\u89d2\uff08steering_angle\uff09\u6784\u6210","title":"Ramcontrol2carla.py"},{"location":"carla_rambot_adapters.html#carla_global_twist2local","text":"\u7efc\u8ff0\uff1aodom\u4eceros\u6865\u51fa\u6765\uff0c\u7ecf\u8fc7\u8fd9\u4e2a\u9002\u5e94\u5668\u624d\u53d1\u5f80\u63a7\u5236\u5668 local_odometry: \u8ba2\u9605\uff1a/carla/ego_vehicle/odometry \u53d1\u5e03\uff1a/RobotPort_Odom local_odometry.pose: (\u6ca1\u6709\u53d8\u5316) 1.local_odometry.pose.pose: \u6765\u81eageometry_msgs \u7684Pose 1. position : \u7c7b\u578b\u662fgeometry_msgs \u7684 Point \u7531carla.transform.location \u7c7b\u8f6c\u5316\u800c\u6765\uff0c\u8be5\u8f6c\u5316 \u76f4\u63a5\u8d4b\u503c\u5373\u53ef\u3002\u53d8\u91cf\u7c7b\u578b\u4e00\u6837\u3002\u5177\u4f53\u8bf7\u53c2\u89c1tdransforms.py. 1.x 2.y 3.z 2. orientation:\u7c7b\u578b\u662f\u81eageometry_msgs\u7684Quaternion \u7531carla.transform.rotation\u7c7b\u8f6c\u5316\u800c\u6765,\u8f6c\u5316\u65b9\u5f0f\u5982\u4e0b \u4e00\u3001\u5148\u5c06\u6b27\u62c9\u89d2\u8f6c\u6362\u4e3a\u5f27\u5ea6\u5236\uff1b \u4e8c\u3001\u8c03\u7528python\u7684api\u8f6c\u6362\u4e3aquaternion\uff1b \u4e09\u3001geometry_msgs.Quatiernion\u4e2d\u7684x,y,xw,\u5206\u522b\u5bf9\u5e94\u56db\u5143\u6570\u7684\u56db\u4f4d 1. x 2. y 3. z 4. w 2.local_odometry.pose.civariance: \u534f\u65b9\u5dee local_odometry.twist 1.loacal_odometry.twist.twist: \u7c7b\u578b\u662fgeometry_msgs\u7684Twist() 1.linear \u7c7b\u578b\uff1a 1.x = sqrt(x*x + y*y +z*z) 2.y = 0 3.z = 0 2.angular \u7c7b\u578b\uff1ageometry_msgs\u7684\u7684Vector3 1.x 2.y 3.z = z(? rosbridge \u597d\u50cf\u6ca1\u6709\u7ed9\u51fa\u6765) 2.local_odometry.twist.civariance: \u534f\u65b9\u5dee","title":"carla_global_twist2local"},{"location":"carla_rambot_adapters.html#local_path_adapter","text":"\u7efc\u8ff0\uff1a\u8ba2\u9605local_waypoint_publischer\u53d1\u5e03\u7684local_path,\u5e76\u8c03\u6574\u683c\u5f0f\u4f7f\u4e4b\u9002\u5e94rambot_controller \u8ba2\u9605\uff1a/carla/ego_vehicle/local_target_path,\u56de\u8c03\u51fd\u6570\u4e2d\u53d1\u5e03\u4e00\u4e2aDesiredTrajectory \u7c7b\uff0c\u4e2d\u95f4\u5305\u62ec\u91cd\u8981\u4fe1\u606f\u4e3a\uff1a\u4e00\u4e2a\u4f4d\u59ff\u4fe1\u606fposes\u7684list\uff1bculvature \u66f2\u7387list\uff1bspeeds \u901f\u5ea6\u6570\u7ec4\uff1b\u5176\u4e2d\u901f\u5ea6\u9ed8\u8ba4\u4fdd\u6301\u6052\u901f\uff0c\u4e3a3m/s\uff0cculvature \u4e3a0 list\uff1b \u53d1\u5e03\uff1a\u540d\u79f0\u4e3aRobotPort_Cmd\u7684DesiredTrajectory\u6d88\u606f\uff1b","title":"local_path_adapter"},{"location":"carla_rambot_adapters.html#indicator_adapter","text":"\u7efc\u8ff0\uff1a \u8ba9\u663e\u793a\u5668\u9002\u5e94\u5230\u6b63\u786e\u7684frame \u8ba2\u9605\uff1a\u540d\u5b57/carla/steering_indicator\u7684 Marker\u6d88\u606f\uff0cros\u4e2d\u663e\u793a\u5728rviz\u4e2d\u7684\u6d88\u606f\u3002 \u8ba2\u9605\uff1a/carla/speed_indicator Marker \u6d88\u606f \u8ba2\u9605\uff1a/carla/Controller_fitted_path \u7684Path \u6d88\u606f \u53d1\u5e03\u76f8\u5e94\u7684 /steering_indicator;/speed_indicator; /Controller_fitted_path,\u6d88\u606f marker\u6d88\u606f\u8fde\u63a5 \uff1b \u8865\u5145 \u56de\u8c03\u64cd\u4f5c\uff1a\u5c06 \u63a5\u6536\u5230\u7684msg\u6d88\u606fheader\u6362\u6210map\uff0crviz\u7684\u663e\u793a\u9700\u8981\u4e00\u4e2a\u4e16\u754c\u5750\u6807\u7cfb\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684map\uff0c\u7136\u540e\u518d\u91cd\u65b0\u53d1\u5e03\uff0c\u6700\u7ec8\u5728rviz\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0crviz \u8ba2\u9605\u4e86\u8fd9\u4e9b\u8bdd\u9898\uff0c\u5e76\u5b8c\u6210\u663e\u793a\u3002","title":"indicator_adapter"},{"location":"carla_ros_bridge.html","text":"carla_ros_bridge \u8282\u70b9\uff1acarla_ros_bridge(client.py) \u8ba2\u9605\uff1a\u5411/carla_ackermann_control_ego_vehicle \u8ba2\u9605 carla/ego_vehicle/vehicle_control_cmd \u6d88\u606f \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_info \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_status \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_odometry. Parent\u7c7b parent.py (\u521b\u5efaactor\uff0c \u5e76\u7ba1\u7406\u5b50\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f) \u521d\u59cb\u5316\uff1acarla_id = 0 \uff0c \u662f\u6865\u5bf9\u8c61\uff0c= -1\uff0c\u5730\u56fe\u5bf9\u8c61\uff0c>0 \u662factor\u5bf9\u8c61\u3002 CarlaRosBridge \u7c7b client.py \u4e00\u4e2a\u4e2d \u521d\u59cb\u5316\u4e86 CarlaRosBridge\uff08\u6216\u8005BAG\uff09 \u7c7b\uff08bridge.py\uff09\uff0c\u8c03\u7528init \u51fd\u6570 \u548c run \u51fd\u6570\u3002 CarlaRosBridge \u7c7b\u7ee7\u627f\u81ea Parent \u7c7b Parent \u7c7b\u662f\u6240\u6709\u7ba1\u7406\u6240\u6709\u7269\u4f53\u7684\u6e90\u5934\uff1bcarla-ros-bridge \u4e2d\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\u5982\u4e0b\u56fe\u6240\u793a Parent -> bridge, child -> map, actor -> vehicle, sensor, traffic. Vehicle -> ego_vehicle Sensor -> lidar, camera -> rgb_camera, depth... \u8ba2\u9605\uff1a/carla/ego_vehicle/vehicle_control_cmd \u8bdd\u9898\uff1b \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_info \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_status \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_odometry. \u4ee5\u4e0a\u6709\u5173\u8f66\u8f86\u7684\u53d1\u5e03\u548c\u8ba2\u9605\u5747\u5728 ego_vehicle \u7c7b\u91cc\u9762\uff0c\u4e5f\u5c31\u662fego_vehicle.py vehicle_control_odometry pose: \u6765\u81eageometry_msgs\u7684PoseWithCovariance,\u8868\u793a\u7a7a\u95f4\u4e2d\u542b\u6709\u4e0d\u786e\u5b9a\u6027\u7684\u4f4d\u59ff\u4fe1\u606f twist:\u6765\u81eageometry_msgs\u7684TwistWithCovariance,\u6d88\u606f\u5b9a\u4e49\u4e86\u5305\u542b\u4e0d\u786e\u5b9a\u6027\u7684\u901f\u5ea6\u91cf\uff0c\u534f\u65b9\u5dee\u77e9\u9635\u6309\u884c\u5206\u522b\u8868\u793a;\u6cbfx\u65b9\u5411\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u6cbfy\u65b9\u5411\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u6cbfz\u65b9\u5411\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027; \u7ed5x\u8f6c\u52a8\u89d2\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u7ed5y\u8f74\u8f6c\u52a8\u7684\u89d2\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u7ed5z\u8f74\u8f6c\u52a8\u7684\u89d2\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027; odometry.pose: 1.odometry.pose.pose: \u6765\u81eageometry_msgs \u7684Pose 1. position : \u7c7b\u578b\u662fgeometry_msgs \u7684 Point \u7531carla.transform.location \u7c7b\u8f6c\u5316\u800c\u6765\uff0c\u8be5\u8f6c\u5316 \u76f4\u63a5\u8d4b\u503c\u5373\u53ef\u3002\u53d8\u91cf\u7c7b\u578b\u4e00\u6837\u3002\u5177\u4f53\u8bf7\u53c2\u89c1tdransforms.py. 1.x 2.y 3.z 2. orientation:\u7c7b\u578b\u662f\u81eageometry_msgs\u7684Quaternion \u7531carla.transform.rotation\u7c7b\u8f6c\u5316\u800c\u6765,\u8f6c\u5316\u65b9\u5f0f\u5982\u4e0b \u4e00\u3001\u5148\u5c06\u6b27\u62c9\u89d2\u8f6c\u6362\u4e3a\u5f27\u5ea6\u5236\uff1b \u4e8c\u3001\u8c03\u7528python\u7684api\u8f6c\u6362\u4e3aquaternion\uff1b \u4e09\u3001geometry_msgs.Quatiernion\u4e2d\u7684x,y,xw,\u5206\u522b\u5bf9\u5e94\u56db\u5143\u6570\u7684\u56db\u4f4d 1. x 2. y 3. z 4. w 2.odometry.pose.civariance: \u534f\u65b9\u5dee odometry.twist 1.odometry.twist.twist: \u7c7b\u578b\u662fgeometry_msgs\u7684Twist() 1.linear \u7c7b\u578b\uff1ageometry_msgs\u7684Vector3 \u7531carla_velocity\u8f6c\u5316\u800c\u6765,\u4e0d\u8f6c\u5230angular 1.x = carl_velocity.x 2.y = -carl_velocity.y 3.z = carl_velocity.z 2.angular \u7c7b\u578b\uff1ageometry_msgs\u7684\u7684Vector3 1.x 2.y 3.z 2.odometry.twist.civariance: \u534f\u65b9\u5dee vehicle_control_status(\u6709\u7528\u6d88\u606f): velocity:\u901f\u5ea6 acceleration\uff1a\u52a0\u901f\u5ea6 orientation:geometry_msgs/Quaternion \uff08\u7a7a\u95f4\u4e2d\u4ee3\u8868\u65cb\u8f6c\u7684\u56db\u5143\u6570\uff09 carla_msgs: CarlaEgoVehicleControl\u7c7b \uff08throttle\u6cb9\u95e8\uff0csteer\u65b9\u5411\u76d8\uff0cbrake\u5239\u8f66\uff0chand_brake\u624b\u5239,reverse\u5012\u8f66,gear\u6863\u4f4d manual_gear_shift \u624b\u52a8\u6362\u6321) vehicle_control_info id: vehcile \u7684 actor_id type: actor.type_id blueprint id rolename: \u89d2\u8272\u540d\u5b57 wheels: \u8f6e\u80ce tire_friction:\u8868\u793a\u8f6e\u80ce\u7684\u6469\u64e6 damping_rate:\u8f66\u8f6e\u7684\u963b\u5c3c\u7387 steer_angle: \u8f66\u8f6e\u8f6c\u5411\u7684\u89d2\u5ea6(\u5df2\u8f6c\u5316\u4e3a\u5f27\u5ea6\u5355\u4f4d) disable_steering:\u6700\u5927\u8f6c\u89d2 ----\u4ee5\u4e0binfo\u4e2d\u4e0d\u5305\u542b---- max_brake_torque: \u4ee5Nm\u4e3a\u5355\u4f4d\u7684\u6700\u5927\u5236\u52a8\u626d\u77e9 max_handbrake_torque\uff1a\u4ee5Nm\u4e3a\u5355\u4f4d\u7684\u6700\u5927\u624b\u5236\u52a8\u626d\u77e9 location\uff1a\u4f4d\u7f6e\uff08\u53ea\u8bfb\uff09 max_rpm: \u8f66\u8f86\u53d1\u52a8\u673a\u7684\u6700\u5927RPM\uff08\u6700\u5927\u529f\u7387\u8f6c\u901f\uff09 moi: \u8f66\u8f86\u53d1\u52a8\u673a\u7684\u60ef\u6027\u77e9\uff08\u8f66\u8f86\u62b5\u6297\u5f2f\u66f2\u6027\u8d28\u7684\u80fd\u529b\uff09 damping_rate_full_throttle: \u6cb9\u95e8\u6700\u5927\u65f6\u7684\u963b\u5c3c\u7387 damping_rate)zero_throttle_clutch_engaged: \u79bb\u5408\u5668\u8e29\u4e0a\u65f6\u6cb9\u95e8\u4e3a\u96f6\u7684\u963b\u5c3c\u7387 damping_rate)zero_throttle_clutch_disengaged:\u79bb\u5408\u5668\u677e\u5f00\u65f6\u6cb9\u95e8\u4e3a\u96f6\u7684\u963b\u5c3c\u7387 use_gear_autobox: true\uff0c\u8f66\u8f86\u81ea\u52a8\u53d8\u901f(\u53d8\u6863) gear_switch_time: \u6863\u4f4d\u5207\u6362\u65f6\u673a clutch_strength: \u8f66\u8f86\u7684\u79bb\u5408\u5668\u5f3a\u5ea6\uff0c\u4ee5kg*m^2/s \u6d4b\u91cf mass: \u4ee5kg\u4e3a\u6d4b\u91cf\u5355\u4f4d\u7684\u8f66\u8f86\u8d28\u91cf drag_coefficient: \u7a7a\u6c14\u963b\u529b\u7cfb\u6570 center_of_mass: \u8f66\u8f86\u7684\u8d28\u5fc3 ----\u4ee5\u4e0b\u53c2\u6570info\u7c7b\u4e2d\u4e0d\u5305\u542b---- final_ratio: \u4ece\u53d8\u901f\u5668\u5230\u8f66\u8f6e\u7684\u56fa\u5b9a\u6bd4\u7387 GearPhysicsControl\uff1a \u6863\u4f4d\u5177\u4f53\u7ec6\u8282 (ratio\u3001down_ratio,up_ratio) max_rpm \uff1b moi \uff1b \u8fd9\u4e2a\u5e93\u7684\u8fd0\u884c\u903b\u8f91\u662f\u8fd9\u6837\u7684: \u8fd0\u884cclient.py\uff0c\u6784\u5efabridge\u5bf9\u8c61\uff0c\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d\u6709super.init()\u4e5f\u5c31\u662fparent.init()\uff0cbridge\u521d \u59cb\u5316\u7684\u65f6\u5019\u8ba2\u9605\u4e86world.on_tick(), \u8fd0\u884cbridge.run() bridge.run()\u4e2d\u4ec5\u4ec5\u662fros::spin \u6bcf\u4e00\u4e2atick\u4f1a\u6267\u884c:\u9501\u7ebf\u7a0b\uff0c\u66f4\u65b0\u65f6\u949f\u5e76publish\u4fe1\u606f;\u8fd0\u884cbridge.update_child_actors-> parent.update_child_actors, \u66f4\u65b0actors\u3002 \u66f4\u65b0actor\u7684\u8fc7\u7a0b: a. \u8bb0\u5f55\u4e0b\u65b0\u751f\u7684actor,\u9664\u6389\u5df2\u7ecf\u88ab\u5220\u9664\u7684actor,\u5e76\u4e14\u8ba9\u6240\u6709\u7684actor\u8fdb\u884c\u4e00\u6b21update() b. \u8fd9\u91cc\u8fdb\u884c\u4e86\u6539\u5199\uff0c\u5c5e\u4e8eSensor\u7684actor\u4e0d\u4f1a\u7531parent.child_actor\u7ba1\u7406\uff0c\u800c\u7531 sensor_manager\u7ba1\u7406\uff0csensor_manager.update()\u4f1a\u8ba9\u5c5e\u4e8eSensor\u7684\u6240\u6709actor\u8fdb \u884cupdate. c. \u5728\u8bb0\u5f55\u65b0\u751fActor,\u9664\u6389\u65e7actor\u8fc7\u7a0b\u4e2d\uff0csensor_manager\u4e5f\u5982\u4e0a\u6587\u6240\u8bf4\u63a5\u7ba1\u4e86 sensor\u7c7b\u7684\u6240\u6709actor. \u8bb0\u5f55\u65b0\u751f\u7684actor\u65f6\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684sensor\u5bf9\u8c61\uff0c\u6bd4\u5982\u8bf4carla\u4eff\u771f\u4e2d\u7684\u4e00\u4e2argbcamera \u4f1a\u4f7f\u5f97sensor_manager\u521b\u5efa\u4e00\u4e2aros_bridge\u4e2d\u7684rgb_camera\u5bf9\u8c61\uff0c\u8fd9\u4e2argb_camera\u5bf9\u8c61 \u7684\u521d\u59cb\u5316\u4f1a\u4e00\u6b65\u4e00\u6b65\u5f80\u4e0a\u7ee7\u627f\uff0c\u5728sensor\u7c7b\u63d0\u4f9b\u7684init()\u4e2d\u6ce8\u518c\u4e86\u4e00\u4e2alisten\u51fd\u6570; \u8fd9\u4e2alisten \u7684\u8ba2\u9605\u5bf9\u5e94\u7684\u51fd\u6570_callback_sensor_data .\u91cc\u9762\u8c03\u7528sensor_data_updated\u8d1f\u8d23\u5c06carla\u7684 \u4fe1\u606f\u8f6c\u5316\u4e3amsg\u4fe1\u606f\uff0c\u5e76\u8c03\u7528camera\u6216lidar\u7684self.publish_ros_message; \u4f20\u611f\u5668\u5bf9\u8c61\u7684\u8fd9 \u4e2apublish_ros_msg\u51fd\u6570\u9996\u5148\u7ee7\u627f\u81eachild\uff0c\u800cchild\u5219\u8c03\u7528\u5efa\u7acbchild\u8fc7\u7a0b\u4e2d,\u8f93\u5165\u7684parent\u7684 publish_ros_message;\u5728parent.py \u7684\u65b0\u751factor\u8bed\u53e5\u4e2d\uff0c\u6211\u4eec\u5efa\u7acbsensor\u5bf9\u8c61\u5199\u7684\u662f parent=self, \u8fd9\u4e2aself\u7ee7\u627f\u4e86\u6574\u4e2aupdate\u3001create_new\u65b9\u6cd5\u7684bridge\u5bf9\u8c61\uff0c(\u5c3d\u7ba1\u8fd8\u6709\u522b\u7684 \u8def\u5f84\uff0c\u4e0d\u8fc7\u6700\u7ec8)\u6700\u540e\u4f1a\u8dd1bridge.publish_ros_message\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c06ROS\u4fe1\u606f\u5b58\u5230\u4e86\u8f93 \u51fa\u7f13\u5b58\u4e2d\uff0c\u5728tick\u7684\u8ba2\u9605\u51fd\u6570\u7684\u6700\u540e\u4e00\u6b65\u8f93\u51fa\u3002 \u5728bridge \u7684 tick \u8ba2\u9605\u51fd\u6570 self._carla_update_child_actors \u51fd\u6570\u4e2d\u8fdb\u4e00\u6b65\u5f80\u4e0b\u5bfb\u627e\uff0c-> self.update()->actor.update()->\u8c03\u7528\u4e86vehicle.update()\u4e2d\u53d1\u9001\u6d88\u606f\u3002 self._prepare_msgs() \u8c03\u7528\u4e86 bridge.publish_ros_message() \u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u8f93\u5165\u662f \u7269\u4f53 \u7684\u6d88\u606f\uff0c\u5c06\u5176\u6dfb\u52a0\u81f3\u7f13\u5b58\u4fe1\u606f\u4e2d\uff0c\u5728send_msgs()\u51fd\u6570\u4e2d\u8fdb\u4e00\u6b65\u8f93\u51fa\u3002","title":"Carla ros bridge"},{"location":"carla_ros_bridge.html#carla_ros_bridge","text":"\u8282\u70b9\uff1acarla_ros_bridge(client.py) \u8ba2\u9605\uff1a\u5411/carla_ackermann_control_ego_vehicle \u8ba2\u9605 carla/ego_vehicle/vehicle_control_cmd \u6d88\u606f \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_info \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_status \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_odometry.","title":"carla_ros_bridge"},{"location":"carla_ros_bridge.html#parent","text":"parent.py (\u521b\u5efaactor\uff0c \u5e76\u7ba1\u7406\u5b50\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f) \u521d\u59cb\u5316\uff1acarla_id = 0 \uff0c \u662f\u6865\u5bf9\u8c61\uff0c= -1\uff0c\u5730\u56fe\u5bf9\u8c61\uff0c>0 \u662factor\u5bf9\u8c61\u3002","title":"Parent\u7c7b"},{"location":"carla_ros_bridge.html#carlarosbridge","text":"client.py \u4e00\u4e2a\u4e2d \u521d\u59cb\u5316\u4e86 CarlaRosBridge\uff08\u6216\u8005BAG\uff09 \u7c7b\uff08bridge.py\uff09\uff0c\u8c03\u7528init \u51fd\u6570 \u548c run \u51fd\u6570\u3002 CarlaRosBridge \u7c7b\u7ee7\u627f\u81ea Parent \u7c7b Parent \u7c7b\u662f\u6240\u6709\u7ba1\u7406\u6240\u6709\u7269\u4f53\u7684\u6e90\u5934\uff1bcarla-ros-bridge \u4e2d\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\u5982\u4e0b\u56fe\u6240\u793a Parent -> bridge, child -> map, actor -> vehicle, sensor, traffic. Vehicle -> ego_vehicle Sensor -> lidar, camera -> rgb_camera, depth... \u8ba2\u9605\uff1a/carla/ego_vehicle/vehicle_control_cmd \u8bdd\u9898\uff1b \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_info \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_status \u53d1\u5e03\uff1a/carla/ego_vehicle/vehicle_control_odometry. \u4ee5\u4e0a\u6709\u5173\u8f66\u8f86\u7684\u53d1\u5e03\u548c\u8ba2\u9605\u5747\u5728 ego_vehicle \u7c7b\u91cc\u9762\uff0c\u4e5f\u5c31\u662fego_vehicle.py vehicle_control_odometry pose: \u6765\u81eageometry_msgs\u7684PoseWithCovariance,\u8868\u793a\u7a7a\u95f4\u4e2d\u542b\u6709\u4e0d\u786e\u5b9a\u6027\u7684\u4f4d\u59ff\u4fe1\u606f twist:\u6765\u81eageometry_msgs\u7684TwistWithCovariance,\u6d88\u606f\u5b9a\u4e49\u4e86\u5305\u542b\u4e0d\u786e\u5b9a\u6027\u7684\u901f\u5ea6\u91cf\uff0c\u534f\u65b9\u5dee\u77e9\u9635\u6309\u884c\u5206\u522b\u8868\u793a;\u6cbfx\u65b9\u5411\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u6cbfy\u65b9\u5411\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u6cbfz\u65b9\u5411\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027; \u7ed5x\u8f6c\u52a8\u89d2\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u7ed5y\u8f74\u8f6c\u52a8\u7684\u89d2\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u7ed5z\u8f74\u8f6c\u52a8\u7684\u89d2\u901f\u5ea6\u7684\u4e0d\u786e\u5b9a\u6027; odometry.pose: 1.odometry.pose.pose: \u6765\u81eageometry_msgs \u7684Pose 1. position : \u7c7b\u578b\u662fgeometry_msgs \u7684 Point \u7531carla.transform.location \u7c7b\u8f6c\u5316\u800c\u6765\uff0c\u8be5\u8f6c\u5316 \u76f4\u63a5\u8d4b\u503c\u5373\u53ef\u3002\u53d8\u91cf\u7c7b\u578b\u4e00\u6837\u3002\u5177\u4f53\u8bf7\u53c2\u89c1tdransforms.py. 1.x 2.y 3.z 2. orientation:\u7c7b\u578b\u662f\u81eageometry_msgs\u7684Quaternion \u7531carla.transform.rotation\u7c7b\u8f6c\u5316\u800c\u6765,\u8f6c\u5316\u65b9\u5f0f\u5982\u4e0b \u4e00\u3001\u5148\u5c06\u6b27\u62c9\u89d2\u8f6c\u6362\u4e3a\u5f27\u5ea6\u5236\uff1b \u4e8c\u3001\u8c03\u7528python\u7684api\u8f6c\u6362\u4e3aquaternion\uff1b \u4e09\u3001geometry_msgs.Quatiernion\u4e2d\u7684x,y,xw,\u5206\u522b\u5bf9\u5e94\u56db\u5143\u6570\u7684\u56db\u4f4d 1. x 2. y 3. z 4. w 2.odometry.pose.civariance: \u534f\u65b9\u5dee odometry.twist 1.odometry.twist.twist: \u7c7b\u578b\u662fgeometry_msgs\u7684Twist() 1.linear \u7c7b\u578b\uff1ageometry_msgs\u7684Vector3 \u7531carla_velocity\u8f6c\u5316\u800c\u6765,\u4e0d\u8f6c\u5230angular 1.x = carl_velocity.x 2.y = -carl_velocity.y 3.z = carl_velocity.z 2.angular \u7c7b\u578b\uff1ageometry_msgs\u7684\u7684Vector3 1.x 2.y 3.z 2.odometry.twist.civariance: \u534f\u65b9\u5dee vehicle_control_status(\u6709\u7528\u6d88\u606f): velocity:\u901f\u5ea6 acceleration\uff1a\u52a0\u901f\u5ea6 orientation:geometry_msgs/Quaternion \uff08\u7a7a\u95f4\u4e2d\u4ee3\u8868\u65cb\u8f6c\u7684\u56db\u5143\u6570\uff09 carla_msgs: CarlaEgoVehicleControl\u7c7b \uff08throttle\u6cb9\u95e8\uff0csteer\u65b9\u5411\u76d8\uff0cbrake\u5239\u8f66\uff0chand_brake\u624b\u5239,reverse\u5012\u8f66,gear\u6863\u4f4d manual_gear_shift \u624b\u52a8\u6362\u6321) vehicle_control_info id: vehcile \u7684 actor_id type: actor.type_id blueprint id rolename: \u89d2\u8272\u540d\u5b57 wheels: \u8f6e\u80ce tire_friction:\u8868\u793a\u8f6e\u80ce\u7684\u6469\u64e6 damping_rate:\u8f66\u8f6e\u7684\u963b\u5c3c\u7387 steer_angle: \u8f66\u8f6e\u8f6c\u5411\u7684\u89d2\u5ea6(\u5df2\u8f6c\u5316\u4e3a\u5f27\u5ea6\u5355\u4f4d) disable_steering:\u6700\u5927\u8f6c\u89d2 ----\u4ee5\u4e0binfo\u4e2d\u4e0d\u5305\u542b---- max_brake_torque: \u4ee5Nm\u4e3a\u5355\u4f4d\u7684\u6700\u5927\u5236\u52a8\u626d\u77e9 max_handbrake_torque\uff1a\u4ee5Nm\u4e3a\u5355\u4f4d\u7684\u6700\u5927\u624b\u5236\u52a8\u626d\u77e9 location\uff1a\u4f4d\u7f6e\uff08\u53ea\u8bfb\uff09 max_rpm: \u8f66\u8f86\u53d1\u52a8\u673a\u7684\u6700\u5927RPM\uff08\u6700\u5927\u529f\u7387\u8f6c\u901f\uff09 moi: \u8f66\u8f86\u53d1\u52a8\u673a\u7684\u60ef\u6027\u77e9\uff08\u8f66\u8f86\u62b5\u6297\u5f2f\u66f2\u6027\u8d28\u7684\u80fd\u529b\uff09 damping_rate_full_throttle: \u6cb9\u95e8\u6700\u5927\u65f6\u7684\u963b\u5c3c\u7387 damping_rate)zero_throttle_clutch_engaged: \u79bb\u5408\u5668\u8e29\u4e0a\u65f6\u6cb9\u95e8\u4e3a\u96f6\u7684\u963b\u5c3c\u7387 damping_rate)zero_throttle_clutch_disengaged:\u79bb\u5408\u5668\u677e\u5f00\u65f6\u6cb9\u95e8\u4e3a\u96f6\u7684\u963b\u5c3c\u7387 use_gear_autobox: true\uff0c\u8f66\u8f86\u81ea\u52a8\u53d8\u901f(\u53d8\u6863) gear_switch_time: \u6863\u4f4d\u5207\u6362\u65f6\u673a clutch_strength: \u8f66\u8f86\u7684\u79bb\u5408\u5668\u5f3a\u5ea6\uff0c\u4ee5kg*m^2/s \u6d4b\u91cf mass: \u4ee5kg\u4e3a\u6d4b\u91cf\u5355\u4f4d\u7684\u8f66\u8f86\u8d28\u91cf drag_coefficient: \u7a7a\u6c14\u963b\u529b\u7cfb\u6570 center_of_mass: \u8f66\u8f86\u7684\u8d28\u5fc3 ----\u4ee5\u4e0b\u53c2\u6570info\u7c7b\u4e2d\u4e0d\u5305\u542b---- final_ratio: \u4ece\u53d8\u901f\u5668\u5230\u8f66\u8f6e\u7684\u56fa\u5b9a\u6bd4\u7387 GearPhysicsControl\uff1a \u6863\u4f4d\u5177\u4f53\u7ec6\u8282 (ratio\u3001down_ratio,up_ratio) max_rpm \uff1b moi \uff1b","title":"CarlaRosBridge \u7c7b"},{"location":"carla_ros_bridge.html#_1","text":"\u8fd0\u884cclient.py\uff0c\u6784\u5efabridge\u5bf9\u8c61\uff0c\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d\u6709super.init()\u4e5f\u5c31\u662fparent.init()\uff0cbridge\u521d \u59cb\u5316\u7684\u65f6\u5019\u8ba2\u9605\u4e86world.on_tick(), \u8fd0\u884cbridge.run() bridge.run()\u4e2d\u4ec5\u4ec5\u662fros::spin \u6bcf\u4e00\u4e2atick\u4f1a\u6267\u884c:\u9501\u7ebf\u7a0b\uff0c\u66f4\u65b0\u65f6\u949f\u5e76publish\u4fe1\u606f;\u8fd0\u884cbridge.update_child_actors-> parent.update_child_actors, \u66f4\u65b0actors\u3002 \u66f4\u65b0actor\u7684\u8fc7\u7a0b: a. \u8bb0\u5f55\u4e0b\u65b0\u751f\u7684actor,\u9664\u6389\u5df2\u7ecf\u88ab\u5220\u9664\u7684actor,\u5e76\u4e14\u8ba9\u6240\u6709\u7684actor\u8fdb\u884c\u4e00\u6b21update() b. \u8fd9\u91cc\u8fdb\u884c\u4e86\u6539\u5199\uff0c\u5c5e\u4e8eSensor\u7684actor\u4e0d\u4f1a\u7531parent.child_actor\u7ba1\u7406\uff0c\u800c\u7531 sensor_manager\u7ba1\u7406\uff0csensor_manager.update()\u4f1a\u8ba9\u5c5e\u4e8eSensor\u7684\u6240\u6709actor\u8fdb \u884cupdate. c. \u5728\u8bb0\u5f55\u65b0\u751fActor,\u9664\u6389\u65e7actor\u8fc7\u7a0b\u4e2d\uff0csensor_manager\u4e5f\u5982\u4e0a\u6587\u6240\u8bf4\u63a5\u7ba1\u4e86 sensor\u7c7b\u7684\u6240\u6709actor. \u8bb0\u5f55\u65b0\u751f\u7684actor\u65f6\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684sensor\u5bf9\u8c61\uff0c\u6bd4\u5982\u8bf4carla\u4eff\u771f\u4e2d\u7684\u4e00\u4e2argbcamera \u4f1a\u4f7f\u5f97sensor_manager\u521b\u5efa\u4e00\u4e2aros_bridge\u4e2d\u7684rgb_camera\u5bf9\u8c61\uff0c\u8fd9\u4e2argb_camera\u5bf9\u8c61 \u7684\u521d\u59cb\u5316\u4f1a\u4e00\u6b65\u4e00\u6b65\u5f80\u4e0a\u7ee7\u627f\uff0c\u5728sensor\u7c7b\u63d0\u4f9b\u7684init()\u4e2d\u6ce8\u518c\u4e86\u4e00\u4e2alisten\u51fd\u6570; \u8fd9\u4e2alisten \u7684\u8ba2\u9605\u5bf9\u5e94\u7684\u51fd\u6570_callback_sensor_data .\u91cc\u9762\u8c03\u7528sensor_data_updated\u8d1f\u8d23\u5c06carla\u7684 \u4fe1\u606f\u8f6c\u5316\u4e3amsg\u4fe1\u606f\uff0c\u5e76\u8c03\u7528camera\u6216lidar\u7684self.publish_ros_message; \u4f20\u611f\u5668\u5bf9\u8c61\u7684\u8fd9 \u4e2apublish_ros_msg\u51fd\u6570\u9996\u5148\u7ee7\u627f\u81eachild\uff0c\u800cchild\u5219\u8c03\u7528\u5efa\u7acbchild\u8fc7\u7a0b\u4e2d,\u8f93\u5165\u7684parent\u7684 publish_ros_message;\u5728parent.py \u7684\u65b0\u751factor\u8bed\u53e5\u4e2d\uff0c\u6211\u4eec\u5efa\u7acbsensor\u5bf9\u8c61\u5199\u7684\u662f parent=self, \u8fd9\u4e2aself\u7ee7\u627f\u4e86\u6574\u4e2aupdate\u3001create_new\u65b9\u6cd5\u7684bridge\u5bf9\u8c61\uff0c(\u5c3d\u7ba1\u8fd8\u6709\u522b\u7684 \u8def\u5f84\uff0c\u4e0d\u8fc7\u6700\u7ec8)\u6700\u540e\u4f1a\u8dd1bridge.publish_ros_message\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c06ROS\u4fe1\u606f\u5b58\u5230\u4e86\u8f93 \u51fa\u7f13\u5b58\u4e2d\uff0c\u5728tick\u7684\u8ba2\u9605\u51fd\u6570\u7684\u6700\u540e\u4e00\u6b65\u8f93\u51fa\u3002 \u5728bridge \u7684 tick \u8ba2\u9605\u51fd\u6570 self._carla_update_child_actors \u51fd\u6570\u4e2d\u8fdb\u4e00\u6b65\u5f80\u4e0b\u5bfb\u627e\uff0c-> self.update()->actor.update()->\u8c03\u7528\u4e86vehicle.update()\u4e2d\u53d1\u9001\u6d88\u606f\u3002 self._prepare_msgs() \u8c03\u7528\u4e86 bridge.publish_ros_message() \u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u8f93\u5165\u662f \u7269\u4f53 \u7684\u6d88\u606f\uff0c\u5c06\u5176\u6dfb\u52a0\u81f3\u7f13\u5b58\u4fe1\u606f\u4e2d\uff0c\u5728send_msgs()\u51fd\u6570\u4e2d\u8fdb\u4e00\u6b65\u8f93\u51fa\u3002","title":"\u8fd9\u4e2a\u5e93\u7684\u8fd0\u884c\u903b\u8f91\u662f\u8fd9\u6837\u7684:"},{"location":"get_started.html","text":"Getting started with Carla_controller Dependency \u5b89\u88c5\u8fd0\u884ccarla \u5b89\u88c5\u8fd0\u884cros \u914d\u7f6ecarla_ros_bridg \u5b89\u88c5python simple pid \u6a21\u5757 multiplot\u753b\u56fe\u5de5\u5177 \uff01Important carla_controller \u8981\u6c42 carla\u7248\u672c 0.9.5 \u53ca\u4ee5\u4e0a\uff0c\u9002\u914d\u7684 ros_bridge 0.9.5.1 carla_controller \u4e3b\u8981\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u5305\u62ecscenario_designer\u3001customed_carla_ros_bridge\u548crambot_controller\u3002\u4e3a\u4e86\u4eff\u771f\u60a8\u7684\u63a7\u5236\u5668\uff0c\u60a8\u5fc5\u987b\u5148\u8fd0\u884ccarla\u670d\u52a1\u7aef\uff0c\u8fd9\u662f\u6240\u6709\u64cd\u4f5c\u7684\u524d\u63d0\u3002scenario_designer \u7528\u6765\u8bbe\u8ba1\u60a8\u9700\u8981\u7684\u4eff\u771f\u8def\u7ebf\u53ca\u573a\u666f\uff0ccustomed_carla_ros_bridge\u662f\u8fde\u63a5 carla world\u7684\u6865\u6881\uff0c\u800crambot_controller\u5219\u662f\u63a7\u5236\u5668\u7684\u6837\u54c1\uff0c\u5c55\u793a\u4e86\u6d88\u606f\u7684\u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4eff\u7167\u5b83\u5b9a\u5236\u81ea\u5df1\u7684\u63a7\u5236\u5668\u3002 Usage \u9996\u5148\uff0c\u8bbe\u8ba1\u60a8\u81ea\u5df1\u7684\u573a\u666f\uff0c\u81ea\u7531\u9009\u62e9\u60a8\u9700\u8981\u7684\u5730\u56fe\uff0c\u5e76\u81ea\u5b9a\u4e49\u8def\u7ebf\uff0c\u969c\u788d\u7269\u3002 cd ~/../CARLA_0.9.5 ./CarlaUE4.sh \u6216\u8005 DISPLAY= ./CarlaUE4.sh \u63a8\u8350\u4f7f\u7528\uff1a DISPLAY= ./CarlaUE4.sh /Game/Carla/Maps/Town01 -benchmark -fps=10 \uff01Note \u8be5\u6d88\u606f\u7684\u542b\u4e49\u5982\u4e0b\uff1a\u4e0d\u8fdb\u884c\u56fe\u5f62\u663e\u793a\uff0c\u6253\u5f00\u5730\u5f62\u5747\u4e3a\u5e73\u9762\u7684Town01\uff0c\u5c06\u4eff\u771f\u5e27\u7387\u8c03\u5230\u6700\u4f4e\u768410\u5e27 \u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u683c\u5f0f\u66f4\u6362\u5730\u56fe\uff0c\u4e0d\u6253\u5f00\u663e\u793a\u7684\u539f\u56e0\u662f\uff0c\u8fd9\u4e2a\u663e\u793a\u663e\u793a\u7684\u662f\u5bf9\u6574\u4e2a\u5730\u56fe\u7684\u5168\u5c40\u89c2\u6d4b\uff0c \u800c\u4e0d\u662f\u5bf9\u8f66\u5b50\u7684\u89c2\u6d4b\uff0c\u800c\u4e14\u8fd8\u4f1acapture \u9f20\u6807\uff0c\u4e0d\u5982\u5173\u6389\u663e\u793a\u3002 cd ~/../(free_scenario_design.py\u7684\u6587\u4ef6\u5939\u4e0b) python free_scenario_design.py \u6267\u884cpython\u811a\u672c\u6253\u5f00\u5730\u56fe\u7f16\u8f91\u89c6\u89d2\u540e\u901a\u8fc7\u9f20\u6807\u952e\u76d8\u81ea\u5b9a\u4e49\u8def\u7ebf\u548c\u7ebf\u8def\u56fe\uff1b\u64cd\u4f5c\u65b9\u5f0f\u5982\u4e0b \u6309\u952e\u65b9\u5f0f \u4f5c\u7528 \u6309\u952e\u65b9\u5f0f \u4f5c\u7528 \u6309\u952e\u65b9\u5f0f \u4f5c\u7528 w \u4e0a c \u9009\u62e9\u653e\u7f6e\u7269\u4f53\u6216\u8005\u8def\u7ebf\u6a21\u5f0f \u9f20\u6807\u5de6\u952e \u7269\u4f53\u6a21\u5f0f\u4e0b\u9884\u89c8\u7269\u4f53\u3001\u8def\u7ebf\u6a21\u5f0f\u4e0b\u9884\u89c8\u4f4d\u7f6e s \u4e0b \u7a7a\u683c \u5220\u9664\u4e0a\u4e00\u6b21\u653e\u7f6e\u7684\u7269\u4f53 \u9f20\u6807\u53f3\u952e \u7269\u4f53\u6a21\u5f0f\u653e\u7f6e\u7269\u4f53\uff0c\u8def\u7ebf\u6a21\u5f0f\u4e0b\u8bbe\u7f6ewaypoint a \u5de6 Tab \u5207\u6362\u6444\u50cf\u5934\u89c6\u89d2 o \u5207\u6362\u8bbe\u7f6e\u8def\u7ebf\u6a21\u5f0f\u51b3\u5b9a\u8def\u7ebf\u662f\u5426\u7ecf\u8fc7waypoint d \u53f3 r \u8bb0\u5f55\u6570\u636e shift+R/Esc \u91cd\u542f/\u9000\u51fa \u6309R \u4fdd\u5b58\u6570\u636e, \u5e76\u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff0ccd\u5230\u4e0a\u8ff0\u6587\u4ef6\u5939\u4e0b python python csv_to_xml_helper.py route input_file_name output_file_name \u914d\u7f6e\u6587\u4ef6\u5df2\u7ecf\u4fdd\u5b58\u5728output_xmls\u6587\u4ef6\u5939\u4e0b,\u60a8\u9700\u8981\u5c06\u4fdd\u5b58\u7684your_config_name.xml\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230/carla_scenario_runner_ros/src/carla_scenario_runner_ros/srunner/configs/ControlAssessment.xml\u4e2d\uff1b\u6ce8\u610f\u683c\u5f0f \uff01Note \u914d\u7f6e\u5b8c\u573a\u666f\uff0c\u5c06\u8fd0\u884c\u4e2d\u7684python\u811a\u672c\u9000\u51fa \u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff1b\u8fd0\u884c\u4e0b\u8ff0\u547d\u4ee4\uff0c\u8be5launch\u6587\u4ef6\u5c06\u9664\u4e86\u63a7\u5236\u5668\u7684\u8282\u70b9\u5168\u90e8\u542f\u52a8\uff0c\u573a\u666f\u5df2\u7ecf\u51c6\u5907\u5b8c\u6bd5\uff0c\u7b49\u5f85\u63a7\u5236\u5668\u5bf9\u5c0f\u8f66\u8fdb\u884c\u63a7\u5236\uff1b roslaunch carla_launcher assess_rambot_controller.launch \u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff1b\u8fd0\u884c\u63a7\u5236\u5668 roslaunch rambot_controller rambot_controller_simu.launch \uff01Note \u5f53\u7136\uff0c\u5982\u679c\u4f60\u60f3\u753b\u56fe\uff0c\u6211\u4eec\u4e5f\u4e3a\u4f60\u51c6\u5907\u4e86\u4e00\u4e2a\u5f00\u6e90\u7684\u753b\u56fe\u5de5\u5177\uff01\u60f3\u8981\u753b\u66f2\u7ebf\u56fe\uff0c\u8bf7\u5728\u4eff\u771f\u8fd0\u884c\u4e4b\u524d\u914d\u7f6e\u597d\u53c2\u6570\uff01 \u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff1b\u8fd0\u884c\uff1b rqt_multiplot","title":"Getting started with Carla_controller"},{"location":"get_started.html#getting-started-with-carla_controller","text":"","title":"Getting started with Carla_controller"},{"location":"get_started.html#dependency","text":"\u5b89\u88c5\u8fd0\u884ccarla \u5b89\u88c5\u8fd0\u884cros \u914d\u7f6ecarla_ros_bridg \u5b89\u88c5python simple pid \u6a21\u5757 multiplot\u753b\u56fe\u5de5\u5177 \uff01Important carla_controller \u8981\u6c42 carla\u7248\u672c 0.9.5 \u53ca\u4ee5\u4e0a\uff0c\u9002\u914d\u7684 ros_bridge 0.9.5.1 carla_controller \u4e3b\u8981\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u5305\u62ecscenario_designer\u3001customed_carla_ros_bridge\u548crambot_controller\u3002\u4e3a\u4e86\u4eff\u771f\u60a8\u7684\u63a7\u5236\u5668\uff0c\u60a8\u5fc5\u987b\u5148\u8fd0\u884ccarla\u670d\u52a1\u7aef\uff0c\u8fd9\u662f\u6240\u6709\u64cd\u4f5c\u7684\u524d\u63d0\u3002scenario_designer \u7528\u6765\u8bbe\u8ba1\u60a8\u9700\u8981\u7684\u4eff\u771f\u8def\u7ebf\u53ca\u573a\u666f\uff0ccustomed_carla_ros_bridge\u662f\u8fde\u63a5 carla world\u7684\u6865\u6881\uff0c\u800crambot_controller\u5219\u662f\u63a7\u5236\u5668\u7684\u6837\u54c1\uff0c\u5c55\u793a\u4e86\u6d88\u606f\u7684\u63a5\u53e3\uff0c\u60a8\u53ef\u4ee5\u4eff\u7167\u5b83\u5b9a\u5236\u81ea\u5df1\u7684\u63a7\u5236\u5668\u3002","title":"Dependency"},{"location":"get_started.html#usage","text":"\u9996\u5148\uff0c\u8bbe\u8ba1\u60a8\u81ea\u5df1\u7684\u573a\u666f\uff0c\u81ea\u7531\u9009\u62e9\u60a8\u9700\u8981\u7684\u5730\u56fe\uff0c\u5e76\u81ea\u5b9a\u4e49\u8def\u7ebf\uff0c\u969c\u788d\u7269\u3002 cd ~/../CARLA_0.9.5 ./CarlaUE4.sh \u6216\u8005 DISPLAY= ./CarlaUE4.sh \u63a8\u8350\u4f7f\u7528\uff1a DISPLAY= ./CarlaUE4.sh /Game/Carla/Maps/Town01 -benchmark -fps=10 \uff01Note \u8be5\u6d88\u606f\u7684\u542b\u4e49\u5982\u4e0b\uff1a\u4e0d\u8fdb\u884c\u56fe\u5f62\u663e\u793a\uff0c\u6253\u5f00\u5730\u5f62\u5747\u4e3a\u5e73\u9762\u7684Town01\uff0c\u5c06\u4eff\u771f\u5e27\u7387\u8c03\u5230\u6700\u4f4e\u768410\u5e27 \u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u683c\u5f0f\u66f4\u6362\u5730\u56fe\uff0c\u4e0d\u6253\u5f00\u663e\u793a\u7684\u539f\u56e0\u662f\uff0c\u8fd9\u4e2a\u663e\u793a\u663e\u793a\u7684\u662f\u5bf9\u6574\u4e2a\u5730\u56fe\u7684\u5168\u5c40\u89c2\u6d4b\uff0c \u800c\u4e0d\u662f\u5bf9\u8f66\u5b50\u7684\u89c2\u6d4b\uff0c\u800c\u4e14\u8fd8\u4f1acapture \u9f20\u6807\uff0c\u4e0d\u5982\u5173\u6389\u663e\u793a\u3002 cd ~/../(free_scenario_design.py\u7684\u6587\u4ef6\u5939\u4e0b) python free_scenario_design.py \u6267\u884cpython\u811a\u672c\u6253\u5f00\u5730\u56fe\u7f16\u8f91\u89c6\u89d2\u540e\u901a\u8fc7\u9f20\u6807\u952e\u76d8\u81ea\u5b9a\u4e49\u8def\u7ebf\u548c\u7ebf\u8def\u56fe\uff1b\u64cd\u4f5c\u65b9\u5f0f\u5982\u4e0b \u6309\u952e\u65b9\u5f0f \u4f5c\u7528 \u6309\u952e\u65b9\u5f0f \u4f5c\u7528 \u6309\u952e\u65b9\u5f0f \u4f5c\u7528 w \u4e0a c \u9009\u62e9\u653e\u7f6e\u7269\u4f53\u6216\u8005\u8def\u7ebf\u6a21\u5f0f \u9f20\u6807\u5de6\u952e \u7269\u4f53\u6a21\u5f0f\u4e0b\u9884\u89c8\u7269\u4f53\u3001\u8def\u7ebf\u6a21\u5f0f\u4e0b\u9884\u89c8\u4f4d\u7f6e s \u4e0b \u7a7a\u683c \u5220\u9664\u4e0a\u4e00\u6b21\u653e\u7f6e\u7684\u7269\u4f53 \u9f20\u6807\u53f3\u952e \u7269\u4f53\u6a21\u5f0f\u653e\u7f6e\u7269\u4f53\uff0c\u8def\u7ebf\u6a21\u5f0f\u4e0b\u8bbe\u7f6ewaypoint a \u5de6 Tab \u5207\u6362\u6444\u50cf\u5934\u89c6\u89d2 o \u5207\u6362\u8bbe\u7f6e\u8def\u7ebf\u6a21\u5f0f\u51b3\u5b9a\u8def\u7ebf\u662f\u5426\u7ecf\u8fc7waypoint d \u53f3 r \u8bb0\u5f55\u6570\u636e shift+R/Esc \u91cd\u542f/\u9000\u51fa \u6309R \u4fdd\u5b58\u6570\u636e, \u5e76\u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff0ccd\u5230\u4e0a\u8ff0\u6587\u4ef6\u5939\u4e0b python python csv_to_xml_helper.py route input_file_name output_file_name \u914d\u7f6e\u6587\u4ef6\u5df2\u7ecf\u4fdd\u5b58\u5728output_xmls\u6587\u4ef6\u5939\u4e0b,\u60a8\u9700\u8981\u5c06\u4fdd\u5b58\u7684your_config_name.xml\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230/carla_scenario_runner_ros/src/carla_scenario_runner_ros/srunner/configs/ControlAssessment.xml\u4e2d\uff1b\u6ce8\u610f\u683c\u5f0f \uff01Note \u914d\u7f6e\u5b8c\u573a\u666f\uff0c\u5c06\u8fd0\u884c\u4e2d\u7684python\u811a\u672c\u9000\u51fa \u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff1b\u8fd0\u884c\u4e0b\u8ff0\u547d\u4ee4\uff0c\u8be5launch\u6587\u4ef6\u5c06\u9664\u4e86\u63a7\u5236\u5668\u7684\u8282\u70b9\u5168\u90e8\u542f\u52a8\uff0c\u573a\u666f\u5df2\u7ecf\u51c6\u5907\u5b8c\u6bd5\uff0c\u7b49\u5f85\u63a7\u5236\u5668\u5bf9\u5c0f\u8f66\u8fdb\u884c\u63a7\u5236\uff1b roslaunch carla_launcher assess_rambot_controller.launch \u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff1b\u8fd0\u884c\u63a7\u5236\u5668 roslaunch rambot_controller rambot_controller_simu.launch \uff01Note \u5f53\u7136\uff0c\u5982\u679c\u4f60\u60f3\u753b\u56fe\uff0c\u6211\u4eec\u4e5f\u4e3a\u4f60\u51c6\u5907\u4e86\u4e00\u4e2a\u5f00\u6e90\u7684\u753b\u56fe\u5de5\u5177\uff01\u60f3\u8981\u753b\u66f2\u7ebf\u56fe\uff0c\u8bf7\u5728\u4eff\u771f\u8fd0\u884c\u4e4b\u524d\u914d\u7f6e\u597d\u53c2\u6570\uff01 \u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff1b\u8fd0\u884c\uff1b rqt_multiplot","title":"Usage"},{"location":"need_read.html","text":"ros ros spin\uff08\uff09\u4e0eros spinOnce\uff08\uff09 \u535a\u5ba2 \u5b98\u65b9\u57fa\u7840\u6559\u7a0b ros \u57fa\u7840 \u535a\u5ba2 gitbook c++ arg,arv ros\u4f20\u9012\u53c2\u6570 python python .format\u586b\u5145\u7528\u6cd5 python assert\uff08\uff09\u65ad\u8a00\u7528\u6cd5 python super \u51fd\u6570 python raise \u5f02\u5e38 python\u62bd\u8c61\u7c7b python stacticmethod python abstractmethod threading lock \u7528\u6cd5 py_trees python dict iteritems \u8865\u5145 python argparse \u547d\u4ee4\u884c carla \u77e5\u8bc6\u5b66\u4e60 \u5b98\u7f51 \u535a\u5ba2 github \u8f66\u8f86\u7269\u7406\u6a21\u578b carla_ros_bridge \u5b98\u65b9\u6559\u7a0b \u4eff\u771fAPI: \u73b0\u5728customed_carla_simulation\u4e2d\uff0c\u8fdb\u4e00\u6b65\u7528python\\json\u7684\u5199\u6cd5\u5305\u88c5\u4e86\u63d0\u4f9b\u4e86\u8db3\u591f\u597d\u7684\u8f66\u8f86\u7ed3\u6784 \u8bbe\u5b9aAPI\u3002 \u8fdb\u4e00\u6b65\u56de\u987e\u51e0\u4e2a\u91cd\u8981\u7684API, \u8fdb\u4e00\u6b65\u5de5\u4f5c\u53ef\u80fd\u6709\u7528 client = carla.Client(host, port) client.set_timeout(sec) world = client.get_world() actor_list = world.get_actors() actor.attribute.get(\u200b\"role_name\"\u200b) \u200b#\u627e\u540d\u5b57 actor_list.filter(\u200b\"*traffic_light*\"\u200b) \u200b#\u627e\u6240\u6709\u706f\u5bf9\u5e94actor\u5f97\u5230\u7684\u4e00\u4e2a list/generator waypoint=world.get_map().get_waypoint(carla.Location) \u200b#\u5bf9\u5e94\u4e00\u4e2a\u70b9\u627e\u8def\u7ebf\u70b9 waypoint.next(distance) \u200b#\u6839\u636e\u4e00\u4e2a\u70b9\u627e\u4e00\u5b9a\u8ddd\u79bb\u5916\u7684\u4e0b\u4e00\u4e2a\u70b9 world.wait_for_tick()\uff1a blocks until a new tick is received from the simulator. This function is not very reliable as you may skip ticks, and you can easily end up in a dead-lock if using synchronous mode. world.on_tick(callback)\uff1a registers a callback (function or function object) to be called every time a new tick is received, the callback is executed asynchronously in the background. world.tick()\uff1a tells the simulator to perform a tick (i.e. advance one step). This only has effect in synchronous mode.","title":"Need read"},{"location":"need_read.html#ros","text":"","title":"ros"},{"location":"need_read.html#ros-spinros-spinonce","text":"\u535a\u5ba2 \u5b98\u65b9\u57fa\u7840\u6559\u7a0b","title":"ros spin\uff08\uff09\u4e0eros spinOnce\uff08\uff09"},{"location":"need_read.html#ros_1","text":"\u535a\u5ba2 gitbook","title":"ros \u57fa\u7840"},{"location":"need_read.html#c","text":"arg,arv ros\u4f20\u9012\u53c2\u6570","title":"c++"},{"location":"need_read.html#python","text":"python .format\u586b\u5145\u7528\u6cd5 python assert\uff08\uff09\u65ad\u8a00\u7528\u6cd5 python super \u51fd\u6570 python raise \u5f02\u5e38 python\u62bd\u8c61\u7c7b python stacticmethod python abstractmethod threading lock \u7528\u6cd5 py_trees python dict iteritems \u8865\u5145 python argparse \u547d\u4ee4\u884c","title":"python"},{"location":"need_read.html#carla","text":"\u5b98\u7f51 \u535a\u5ba2 github \u8f66\u8f86\u7269\u7406\u6a21\u578b carla_ros_bridge \u5b98\u65b9\u6559\u7a0b \u4eff\u771fAPI: \u73b0\u5728customed_carla_simulation\u4e2d\uff0c\u8fdb\u4e00\u6b65\u7528python\\json\u7684\u5199\u6cd5\u5305\u88c5\u4e86\u63d0\u4f9b\u4e86\u8db3\u591f\u597d\u7684\u8f66\u8f86\u7ed3\u6784 \u8bbe\u5b9aAPI\u3002 \u8fdb\u4e00\u6b65\u56de\u987e\u51e0\u4e2a\u91cd\u8981\u7684API, \u8fdb\u4e00\u6b65\u5de5\u4f5c\u53ef\u80fd\u6709\u7528 client = carla.Client(host, port) client.set_timeout(sec) world = client.get_world() actor_list = world.get_actors() actor.attribute.get(\u200b\"role_name\"\u200b) \u200b#\u627e\u540d\u5b57 actor_list.filter(\u200b\"*traffic_light*\"\u200b) \u200b#\u627e\u6240\u6709\u706f\u5bf9\u5e94actor\u5f97\u5230\u7684\u4e00\u4e2a list/generator waypoint=world.get_map().get_waypoint(carla.Location) \u200b#\u5bf9\u5e94\u4e00\u4e2a\u70b9\u627e\u8def\u7ebf\u70b9 waypoint.next(distance) \u200b#\u6839\u636e\u4e00\u4e2a\u70b9\u627e\u4e00\u5b9a\u8ddd\u79bb\u5916\u7684\u4e0b\u4e00\u4e2a\u70b9 world.wait_for_tick()\uff1a blocks until a new tick is received from the simulator. This function is not very reliable as you may skip ticks, and you can easily end up in a dead-lock if using synchronous mode. world.on_tick(callback)\uff1a registers a callback (function or function object) to be called every time a new tick is received, the callback is executed asynchronously in the background. world.tick()\uff1a tells the simulator to perform a tick (i.e. advance one step). This only has effect in synchronous mode.","title":"carla \u77e5\u8bc6\u5b66\u4e60"},{"location":"others.html","text":"carla_ackermann_control_ego_vehicle.py(\u6709\u5f85\u6539\u8fdb) \u7efc\u8ff0\uff1a\u8be5ROS\u8282\u70b9\u5c06 AckermannDrive \u6d88\u606f\u8f6c\u6362\u4e3aCarlaEgoVehicleControl\u3002\u8be5\u8282\u70b9\u4f7f\u7528\u4e86pid \u63a7\u5236\u3002 PID\u63a7\u5236\u5668\u7528\u4e8e\u63a7\u5236\u52a0\u901f\u5ea6/\u901f\u5ea6\u3002 \u8bfb\u53d6Carla\u63a7\u5236\u6240\u9700\u7684\u8f66\u8f86\u4fe1\u606f\uff08\u901a\u8fc7carla ros bridge\uff09 \u4f9d\u8d56\uff1ainstall python simple-pid pip install --user simple-pi \u66f4\u591a\u8bf7\u53c2\u8003 \u5b98\u7f51\u94fe\u63a5 \u8282\u70b9\uff1a/carla_ackermann_control_ego_vehicle \u8ba2\u96051\uff1a\u5411 /Ramcontrol2carla \u8ba2\u9605 \u540d\u79f0\u4e3a /carla/ego_vehicle/ackermann_cmd \u7684 AckermannDrive \u7c7b\u6d88\u606f \u8ba2\u96052\uff1a\u5411 /carla_ros_bridge \u8ba2\u9605 \u540d\u79f0\u4e3a /carla/ego_vehicle/vehicle_status \u7684 CarlaEgoVehicleStatus \u6d88\u606f\uff08\u8ba2\u9605\u8fd9\u4e2a\u6709\u5565\u7528\uff1f\uff09 \u53d1\u5e03\uff1a\u5411 /carla_ros_bridge \u53d1\u5e03 \u540d\u79f0\u4e3a /carla/ego_vehicle/vehicle_control_cmd \u7684 CarlaEgoVehicleControl \u6d88\u606f \u521d\u59cb\u5316\u8ba2\u96053\uff1a/carla/ego_vehicle/vehicle_info \u521d\u59cb\u5316\u53d1\u5e032\uff1a/carla/ego_vehicle/ackermann_control/control_info scenario runner \u7efc\u8ff0\uff1ascenario runner \u539f\u672c\u662fcarla \u5b98\u65b9\u7ed9\u51fa\u7684\u4e00\u4e2a \u573a\u666f\u6d4b\u8bd5\u7684 python \u6a21\u5757\u4ee5\u53ca\u811a\u672c\u3002 \u5176\u4e2d\u672c\u6765\u5df2\u5305\u542b\u4e86ros \u4ee3\u7406\uff0c\u672c\u9879\u76ee\u5c06\u5176\u4e0e \u5b98\u65b9\u7684ros \u6865\u7ed3\u5408\uff0c\u4ee5\u65b9\u4fbf \u81ea\u5b9a\u4e49 \u8def\u7ebf\u529f\u80fd\u3002 scenario runner \u5728\u672c\u63a7\u5236\u5668\u9879\u76ee\u4e2d\u4f5c\u4e3a\u8def\u7ebf\u81ea\u5b9a\u4e49\u7684\u63a5\u53e3\uff0c\u4ee5\u53ca\u8fd4\u56de\u5bf9\u573a\u666fpeformance\u7684\u8bc4\u4ef7\u3002 \u8ba2\u9605:rosbridge\u4e2d\u7684/clock \u53d1\u5e03:/local_way_point \u53d1\u5e03\u5728\u5b9a\u4e49\u7684control_assessment.py\u4e2d\u53d1\u5e03\u8def\u7ebf\uff0c\u6d88\u606f\u683c\u5f0f\u4e3a\uff1aPath\uff0c\u5728path\u91cc\u662f\u4e00\u4e2aposes[]\u6570\u7ec4\uff0cPoseStamped()\u4e0b\u7684pose \u4e3a geometry_msgs \u7684 Pose\uff0c\u5176\u4e2d\u7684pose.location \u4e2d\u7684x\uff0cy\uff0cz\u7531waypoints\u8d4b\u503c\u7ed9\u4ed6\u3002\u6700\u540e\u5c06\u6240\u6709\u7684pose append \u81f3\u6570\u7ec4\u3002\u5f97\u5230path \u521b\u5efa\u4e86\u4e00\u4e2acontrol_assessment\u7684\u573a\u666f\u540e\uff0c\u8be5\u573a\u666f\u7ee7\u627f\u81eabasic_scenario,\u8fd9\u4e2a\u57fa\u7840\u7c7b\u521d\u59cb\u5316\uff0c\u521b\u5efa\u4e86 behavior\uff0c\u5df2\u7ecfcritiria\uff0c\u6700\u540e\u5728\u521d\u59cb\u5316\u7684\u6700\u540e\uff0c\u5f00\u59cb\u8c03\u7528setup\uff0c\u4f7f\u5176\u53d1\u5e03\u3002 local_waypoint_publischer \u7efc\u8ff0\uff1a\u901a\u8fc7waypoints\u548codometry \u4fe1\u606f\u5f97\u51falocal_target_path \u8ba2\u9605\uff1a/carla/ego_vehicle/waypoints;\u56de\u8c03\u51fd\u6570\u4e2d\u5c06path\u4e2d\u6240\u6709\u7684pose\u6dfb\u52a0\u81f3global_path. \u8ba2\u9605\uff1a/carla/ego_vehicle/Odometry; \u56de\u8c03\u51fd\u6570\u4e2d\u66f4\u65b0\u4e86\u5f53\u524d\u6240\u5904\u7684waypoints\u7684\u70b9\uff0c\u5e76\u5728\u5f53\u524d\u7684waypoints\u5f80\u540e\u53d6max_local_point_num(10)\u4e5f\u5c31\u662f\u6700\u5927\u7684\u672c\u5730\u8def\u5f84\u70b9\uff0c\u5408\u6210\u4e00\u4e2a\u65b0\u7684Path \u6d88\u606fpublish\u51fa\u53bb \u53d1\u5e03\uff1a\u53d1\u5e03\u4e00\u4e2a\u65b0\u7684Path\u6d88\u606f\uff08\u5982\u4e0a\uff09","title":"Others"},{"location":"others.html#carla_ackermann_control_ego_vehiclepy","text":"\u7efc\u8ff0\uff1a\u8be5ROS\u8282\u70b9\u5c06 AckermannDrive \u6d88\u606f\u8f6c\u6362\u4e3aCarlaEgoVehicleControl\u3002\u8be5\u8282\u70b9\u4f7f\u7528\u4e86pid \u63a7\u5236\u3002 PID\u63a7\u5236\u5668\u7528\u4e8e\u63a7\u5236\u52a0\u901f\u5ea6/\u901f\u5ea6\u3002 \u8bfb\u53d6Carla\u63a7\u5236\u6240\u9700\u7684\u8f66\u8f86\u4fe1\u606f\uff08\u901a\u8fc7carla ros bridge\uff09 \u4f9d\u8d56\uff1ainstall python simple-pid pip install --user simple-pi \u66f4\u591a\u8bf7\u53c2\u8003 \u5b98\u7f51\u94fe\u63a5 \u8282\u70b9\uff1a/carla_ackermann_control_ego_vehicle \u8ba2\u96051\uff1a\u5411 /Ramcontrol2carla \u8ba2\u9605 \u540d\u79f0\u4e3a /carla/ego_vehicle/ackermann_cmd \u7684 AckermannDrive \u7c7b\u6d88\u606f \u8ba2\u96052\uff1a\u5411 /carla_ros_bridge \u8ba2\u9605 \u540d\u79f0\u4e3a /carla/ego_vehicle/vehicle_status \u7684 CarlaEgoVehicleStatus \u6d88\u606f\uff08\u8ba2\u9605\u8fd9\u4e2a\u6709\u5565\u7528\uff1f\uff09 \u53d1\u5e03\uff1a\u5411 /carla_ros_bridge \u53d1\u5e03 \u540d\u79f0\u4e3a /carla/ego_vehicle/vehicle_control_cmd \u7684 CarlaEgoVehicleControl \u6d88\u606f \u521d\u59cb\u5316\u8ba2\u96053\uff1a/carla/ego_vehicle/vehicle_info \u521d\u59cb\u5316\u53d1\u5e032\uff1a/carla/ego_vehicle/ackermann_control/control_info","title":"carla_ackermann_control_ego_vehicle.py(\u6709\u5f85\u6539\u8fdb)"},{"location":"others.html#scenario-runner","text":"\u7efc\u8ff0\uff1ascenario runner \u539f\u672c\u662fcarla \u5b98\u65b9\u7ed9\u51fa\u7684\u4e00\u4e2a \u573a\u666f\u6d4b\u8bd5\u7684 python \u6a21\u5757\u4ee5\u53ca\u811a\u672c\u3002 \u5176\u4e2d\u672c\u6765\u5df2\u5305\u542b\u4e86ros \u4ee3\u7406\uff0c\u672c\u9879\u76ee\u5c06\u5176\u4e0e \u5b98\u65b9\u7684ros \u6865\u7ed3\u5408\uff0c\u4ee5\u65b9\u4fbf \u81ea\u5b9a\u4e49 \u8def\u7ebf\u529f\u80fd\u3002 scenario runner \u5728\u672c\u63a7\u5236\u5668\u9879\u76ee\u4e2d\u4f5c\u4e3a\u8def\u7ebf\u81ea\u5b9a\u4e49\u7684\u63a5\u53e3\uff0c\u4ee5\u53ca\u8fd4\u56de\u5bf9\u573a\u666fpeformance\u7684\u8bc4\u4ef7\u3002 \u8ba2\u9605:rosbridge\u4e2d\u7684/clock \u53d1\u5e03:/local_way_point \u53d1\u5e03\u5728\u5b9a\u4e49\u7684control_assessment.py\u4e2d\u53d1\u5e03\u8def\u7ebf\uff0c\u6d88\u606f\u683c\u5f0f\u4e3a\uff1aPath\uff0c\u5728path\u91cc\u662f\u4e00\u4e2aposes[]\u6570\u7ec4\uff0cPoseStamped()\u4e0b\u7684pose \u4e3a geometry_msgs \u7684 Pose\uff0c\u5176\u4e2d\u7684pose.location \u4e2d\u7684x\uff0cy\uff0cz\u7531waypoints\u8d4b\u503c\u7ed9\u4ed6\u3002\u6700\u540e\u5c06\u6240\u6709\u7684pose append \u81f3\u6570\u7ec4\u3002\u5f97\u5230path \u521b\u5efa\u4e86\u4e00\u4e2acontrol_assessment\u7684\u573a\u666f\u540e\uff0c\u8be5\u573a\u666f\u7ee7\u627f\u81eabasic_scenario,\u8fd9\u4e2a\u57fa\u7840\u7c7b\u521d\u59cb\u5316\uff0c\u521b\u5efa\u4e86 behavior\uff0c\u5df2\u7ecfcritiria\uff0c\u6700\u540e\u5728\u521d\u59cb\u5316\u7684\u6700\u540e\uff0c\u5f00\u59cb\u8c03\u7528setup\uff0c\u4f7f\u5176\u53d1\u5e03\u3002","title":"scenario runner"},{"location":"others.html#local_waypoint_publischer","text":"\u7efc\u8ff0\uff1a\u901a\u8fc7waypoints\u548codometry \u4fe1\u606f\u5f97\u51falocal_target_path \u8ba2\u9605\uff1a/carla/ego_vehicle/waypoints;\u56de\u8c03\u51fd\u6570\u4e2d\u5c06path\u4e2d\u6240\u6709\u7684pose\u6dfb\u52a0\u81f3global_path. \u8ba2\u9605\uff1a/carla/ego_vehicle/Odometry; \u56de\u8c03\u51fd\u6570\u4e2d\u66f4\u65b0\u4e86\u5f53\u524d\u6240\u5904\u7684waypoints\u7684\u70b9\uff0c\u5e76\u5728\u5f53\u524d\u7684waypoints\u5f80\u540e\u53d6max_local_point_num(10)\u4e5f\u5c31\u662f\u6700\u5927\u7684\u672c\u5730\u8def\u5f84\u70b9\uff0c\u5408\u6210\u4e00\u4e2a\u65b0\u7684Path \u6d88\u606fpublish\u51fa\u53bb \u53d1\u5e03\uff1a\u53d1\u5e03\u4e00\u4e2a\u65b0\u7684Path\u6d88\u606f\uff08\u5982\u4e0a\uff09","title":"local_waypoint_publischer"},{"location":"readme.html","text":"carla_controller Introduction Carla_controller \u662f\u7531\u5f00\u6e90\u9879\u76ee carla \u6539\u8fdb\u800c\u6210\uff0c\u4ee5\u652f\u6301\u63a7\u5236\u5668\u7684\u5f00\u53d1\uff0c\u4eff\u771f\u548c\u9a8c\u8bc1\u3002\u4eff\u771f\u5e73\u53f0\u652f\u6301\u5728\u73b0\u6709\u5730\u56fe\u4e0a\u81ea\u5b9a\u4e49\u969c\u788d\u7269\u548c\u8def\u7ebf\uff0c\u5e76\u5b9e\u65f6\u89c2\u6d4b\u63a7\u5236\u6548\u679c\u7b49\u529f\u80fd\u3002 Image \u8fd0\u884ccarla_controller \u7684\u754c\u9762\u5982\u4e0b(\u501f\u7528\u4e86ros\u7684rviz) Instruction carla_controller\u7684ros_graph\u5982\u4e0b\uff1a need_read \u5728\u4f7f\u7528carla_controller\u4eff\u771f\u5e73\u53f0\u524d\uff0c\u60a8\u6709\u5fc5\u8981\u5148\u4e86\u89e3\u4e00\u4e0b\u77e5\u8bc6\uff0c\u56e0\u4e3a\u4ed6\u548c\u6211\u4eec\u5e73\u53f0\u7684\u8fd0\u884c\u606f\u606f\u76f8\u5173\uff0c\u6216\u8bb8\u53ef\u4ee5\u5e2e\u52a9\u4f60\u89e3\u51b3\u4e00\u4e9b\u7591\u95ee\uff0c\u8bf7\u70b9\u51fb\u4e0a\u65b9 need_read \uff01 Getting started \u73b0\u5728\u4f60\u53ef\u4ee5\u5f00\u59cb\u8fdb\u884c\u4f60\u7684\u4eff\u771f\u4e86\uff0c\u70b9\u51fb\u4e0a\u65b9 Getting started \uff01 Interpretation for some packages scenario designer carla_ros_bridge carla_rambot_adapters other packages \uff01Important we still have some \"to do list\" Here are some \" to du list \" \u00df","title":"carla_controller"},{"location":"readme.html#carla_controller","text":"","title":"carla_controller"},{"location":"readme.html#introduction","text":"Carla_controller \u662f\u7531\u5f00\u6e90\u9879\u76ee carla \u6539\u8fdb\u800c\u6210\uff0c\u4ee5\u652f\u6301\u63a7\u5236\u5668\u7684\u5f00\u53d1\uff0c\u4eff\u771f\u548c\u9a8c\u8bc1\u3002\u4eff\u771f\u5e73\u53f0\u652f\u6301\u5728\u73b0\u6709\u5730\u56fe\u4e0a\u81ea\u5b9a\u4e49\u969c\u788d\u7269\u548c\u8def\u7ebf\uff0c\u5e76\u5b9e\u65f6\u89c2\u6d4b\u63a7\u5236\u6548\u679c\u7b49\u529f\u80fd\u3002","title":"Introduction"},{"location":"readme.html#image","text":"\u8fd0\u884ccarla_controller \u7684\u754c\u9762\u5982\u4e0b(\u501f\u7528\u4e86ros\u7684rviz)","title":"Image"},{"location":"readme.html#instruction","text":"carla_controller\u7684ros_graph\u5982\u4e0b\uff1a","title":"Instruction"},{"location":"readme.html#need_read","text":"\u5728\u4f7f\u7528carla_controller\u4eff\u771f\u5e73\u53f0\u524d\uff0c\u60a8\u6709\u5fc5\u8981\u5148\u4e86\u89e3\u4e00\u4e0b\u77e5\u8bc6\uff0c\u56e0\u4e3a\u4ed6\u548c\u6211\u4eec\u5e73\u53f0\u7684\u8fd0\u884c\u606f\u606f\u76f8\u5173\uff0c\u6216\u8bb8\u53ef\u4ee5\u5e2e\u52a9\u4f60\u89e3\u51b3\u4e00\u4e9b\u7591\u95ee\uff0c\u8bf7\u70b9\u51fb\u4e0a\u65b9 need_read \uff01","title":"need_read"},{"location":"readme.html#getting-started","text":"\u73b0\u5728\u4f60\u53ef\u4ee5\u5f00\u59cb\u8fdb\u884c\u4f60\u7684\u4eff\u771f\u4e86\uff0c\u70b9\u51fb\u4e0a\u65b9 Getting started \uff01","title":"Getting started"},{"location":"readme.html#interpretation-for-some-packages","text":"scenario designer carla_ros_bridge carla_rambot_adapters other packages \uff01Important we still have some \"to do list\" Here are some \" to du list \" \u00df","title":"Interpretation for some packages"},{"location":"scenario_designer.html","text":"scenario designer \u7efc\u8ff0\uff1a\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u81ea\u5b9a\u4e49\u548c\u8def\u7ebf\u548c\u573a\u666f\uff0c\u8bbe\u8ba1\u7684\u4e00\u6b3e\u5de5\u5177\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u5730\u56fe\u4e0a\u901a\u8fc7\u7b80\u5355\u7684\u9f20\u6807\u64cd\u4f5c\u5b9e\u73b0\u8def\u7ebf\u81ea\u5b9a\u4e49\u548c\u8bbe\u7f6e\u969c\u788d\u7269\u3002\u4e00\u5207\u7684\u64cd\u4f5c\u5efa\u7acb\u5728carla\u670d\u52a1\u7aef\u5f00\u542f\u7684\u60c5\u51b5\u4e0b\u3002\uff08\u652f\u6301CARLA0.9.5\u4ee5\u4e0a\u7248\u672c\uff09 free_scenario_design.py \u754c\u9762\u64cd\u4f5c\u7684\u4e3b\u8981\u5b9e\u73b0\uff0c\u901a\u8fc7client\u7aef\u83b7\u53d6carla\u7684\u5730\u56fe\uff0c\u518d\u901a\u8fc7carla\u5b98\u65b9\u7ed9\u51fa\u7684API\u8fdb\u884c\u969c\u788d\u7269\u7684\u6dfb\u52a0\u548cwaypoint \u7684\u751f\u6210\uff0c\u4ee5\u53ca\u4fdd\u5b58\u4e3a\u6700\u540e\u7684config\u914d\u7f6e\u6587\u4ef6\u3002 API\u53c2\u8003:https://carla.readthedocs.io/en/latest/python_api/ \u7ed3\u6784\u56fe\u4ee5\u53ca\u7528\u5230\u7684API\uff1a catmull_rom_spline.py catmull\u7b97\u6cd5\u7684\u5b9e\u73b0\uff0c\u901a\u8fc7\u7528\u6237\u624b\u52a8\u8bbe\u7f6e\u7684\u70b9\u5b9e\u73b0\u8f68\u8ff9\u7684\u751f\u6210\u548c\u79bb\u6563\u53d6\u70b9\uff0c\u5728free_scenario_design.py \u4e2d\u8c03\u7528\u3002 csv_to_xml_helper.py \u5b9e\u73b0csv\u683c\u5f0f\u5230xml\u683c\u5f0f\u7684\u8f6c\u6362 \u8c03\u7528\u65b9\u5f0f\uff1a\u547d\u4ee4\u884c\u8f93\u5165python csv_to_xml_helper.py route input_file_name output_file_name \u751f\u6210\u7684\u6587\u4ef6\u81ea\u52a8\u653e\u5728output_xmls\u6587\u4ef6\u5939\u4e0b","title":"Scenario designer"},{"location":"scenario_designer.html#scenario-designer","text":"\u7efc\u8ff0\uff1a\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u81ea\u5b9a\u4e49\u548c\u8def\u7ebf\u548c\u573a\u666f\uff0c\u8bbe\u8ba1\u7684\u4e00\u6b3e\u5de5\u5177\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u5730\u56fe\u4e0a\u901a\u8fc7\u7b80\u5355\u7684\u9f20\u6807\u64cd\u4f5c\u5b9e\u73b0\u8def\u7ebf\u81ea\u5b9a\u4e49\u548c\u8bbe\u7f6e\u969c\u788d\u7269\u3002\u4e00\u5207\u7684\u64cd\u4f5c\u5efa\u7acb\u5728carla\u670d\u52a1\u7aef\u5f00\u542f\u7684\u60c5\u51b5\u4e0b\u3002\uff08\u652f\u6301CARLA0.9.5\u4ee5\u4e0a\u7248\u672c\uff09","title":"scenario designer"},{"location":"scenario_designer.html#free_scenario_designpy","text":"\u754c\u9762\u64cd\u4f5c\u7684\u4e3b\u8981\u5b9e\u73b0\uff0c\u901a\u8fc7client\u7aef\u83b7\u53d6carla\u7684\u5730\u56fe\uff0c\u518d\u901a\u8fc7carla\u5b98\u65b9\u7ed9\u51fa\u7684API\u8fdb\u884c\u969c\u788d\u7269\u7684\u6dfb\u52a0\u548cwaypoint \u7684\u751f\u6210\uff0c\u4ee5\u53ca\u4fdd\u5b58\u4e3a\u6700\u540e\u7684config\u914d\u7f6e\u6587\u4ef6\u3002 API\u53c2\u8003:https://carla.readthedocs.io/en/latest/python_api/ \u7ed3\u6784\u56fe\u4ee5\u53ca\u7528\u5230\u7684API\uff1a","title":"free_scenario_design.py"},{"location":"scenario_designer.html#catmull_rom_splinepy","text":"catmull\u7b97\u6cd5\u7684\u5b9e\u73b0\uff0c\u901a\u8fc7\u7528\u6237\u624b\u52a8\u8bbe\u7f6e\u7684\u70b9\u5b9e\u73b0\u8f68\u8ff9\u7684\u751f\u6210\u548c\u79bb\u6563\u53d6\u70b9\uff0c\u5728free_scenario_design.py \u4e2d\u8c03\u7528\u3002","title":"catmull_rom_spline.py"},{"location":"scenario_designer.html#csv_to_xml_helperpy","text":"\u5b9e\u73b0csv\u683c\u5f0f\u5230xml\u683c\u5f0f\u7684\u8f6c\u6362 \u8c03\u7528\u65b9\u5f0f\uff1a\u547d\u4ee4\u884c\u8f93\u5165python csv_to_xml_helper.py route input_file_name output_file_name \u751f\u6210\u7684\u6587\u4ef6\u81ea\u52a8\u653e\u5728output_xmls\u6587\u4ef6\u5939\u4e0b","title":"csv_to_xml_helper.py"},{"location":"to_do_list.html","text":"to do list [ ] \u524d\u7aef\u7684\u8c03\u8bd5\u529f\u80fd [ ] \u5730\u56fe\u65e0\u6cd5\u5b9a\u5236\u7684\u529f\u80fd [ ] [x] \u540e\u7aef\u753b\u56fe\uff0c\u663e\u793a\u529f\u80fd [ ] \u753b\u56fe\u7684\u5b9a\u5236","title":"to do list"},{"location":"to_do_list.html#to-do-list","text":"[ ] \u524d\u7aef\u7684\u8c03\u8bd5\u529f\u80fd [ ] \u5730\u56fe\u65e0\u6cd5\u5b9a\u5236\u7684\u529f\u80fd [ ] [x] \u540e\u7aef\u753b\u56fe\uff0c\u663e\u793a\u529f\u80fd [ ] \u753b\u56fe\u7684\u5b9a\u5236","title":"to do list"}]}